<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Sign In â€” Ratemetro.com</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --bg-dark: #0a0a0f;
    --surface: rgba(18, 18, 28, 0.92);
    --surface-light: rgba(30, 30, 45, 0.85);
    --accent: #f5c518;
    --accent-glow: rgba(245, 197, 24, 0.3);
    --danger: #ff3b30;
    --success: #30d158;
    --text-primary: #ffffff;
    --text-secondary: rgba(255, 255, 255, 0.6);
    --text-muted: rgba(255, 255, 255, 0.35);
    --border: rgba(255, 255, 255, 0.08);
    --border-focus: rgba(245, 197, 24, 0.4);
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: 'DM Sans', sans-serif;
    background: var(--bg-dark);
    color: var(--text-primary);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    -webkit-font-smoothing: antialiased;
    overflow: hidden;
  }

  /* â”€â”€ Background â”€â”€ */
  .bg-grid {
    position: fixed;
    inset: 0;
    background-image:
      linear-gradient(rgba(245,197,24,0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(245,197,24,0.03) 1px, transparent 1px);
    background-size: 40px 40px;
    pointer-events: none;
    z-index: 0;
  }

  .bg-glow-1 {
    position: fixed;
    top: -180px; left: 50%;
    transform: translateX(-50%);
    width: 600px; height: 400px;
    background: radial-gradient(ellipse, rgba(245,197,24,0.06) 0%, transparent 70%);
    pointer-events: none;
    z-index: 0;
  }
  .bg-glow-2 {
    position: fixed;
    bottom: -200px; left: 20%;
    width: 400px; height: 400px;
    background: radial-gradient(ellipse, rgba(74,144,255,0.04) 0%, transparent 70%);
    pointer-events: none;
    z-index: 0;
  }

  /* Animated metro line dots */
  .metro-dots {
    position: fixed;
    bottom: 0; left: 0; right: 0;
    height: 3px;
    display: flex;
    z-index: 0;
    overflow: hidden;
  }
  .metro-dot-segment {
    flex: 1;
    opacity: 0.4;
    animation: lineGlow 3s ease infinite;
  }
  .metro-dot-segment:nth-child(1) { background: #0072bc; animation-delay: 0s; }
  .metro-dot-segment:nth-child(2) { background: #e3242b; animation-delay: 0.3s; }
  .metro-dot-segment:nth-child(3) { background: #58a738; animation-delay: 0.6s; }
  .metro-dot-segment:nth-child(4) { background: #a05da5; animation-delay: 0.9s; }
  .metro-dot-segment:nth-child(5) { background: #fdb913; animation-delay: 1.2s; }
  .metro-dot-segment:nth-child(6) { background: #f58220; animation-delay: 1.5s; }
  .metro-dot-segment:nth-child(7) { background: #e96bb0; animation-delay: 1.8s; }
  .metro-dot-segment:nth-child(8) { background: #c4a73f; animation-delay: 2.1s; }
  .metro-dot-segment:nth-child(9) { background: #b5a07e; animation-delay: 2.4s; }

  @keyframes lineGlow {
    0%, 100% { opacity: 0.2; }
    50% { opacity: 0.7; }
  }

  /* â”€â”€ Card â”€â”€ */
  .card {
    position: relative;
    z-index: 1;
    width: 100%;
    max-width: 400px;
    margin: 0 16px;
    background: var(--surface);
    backdrop-filter: blur(32px);
    -webkit-backdrop-filter: blur(32px);
    border: 1px solid var(--border);
    border-radius: 24px;
    padding: 36px 32px 32px;
    box-shadow: 0 24px 64px rgba(0,0,0,0.5), 0 0 0 1px rgba(255,255,255,0.04) inset;
    animation: cardIn 0.6s cubic-bezier(0.16, 1, 0.3, 1) both;
  }

  @keyframes cardIn {
    from { opacity: 0; transform: translateY(24px) scale(0.97); }
    to { opacity: 1; transform: translateY(0) scale(1); }
  }

  /* â”€â”€ Brand â”€â”€ */
  .brand {
    text-align: center;
    margin-bottom: 32px;
    animation: fadeSlideDown 0.5s ease 0.1s both;
  }
  .brand-logo {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 56px; height: 56px;
    background: linear-gradient(135deg, rgba(245,197,24,0.2), rgba(245,197,24,0.05));
    border: 1.5px solid rgba(245,197,24,0.3);
    border-radius: 16px;
    margin-bottom: 16px;
    box-shadow: 0 0 24px rgba(245,197,24,0.12);
    transition: all 0.3s ease;
  }
  .brand-logo:hover { box-shadow: 0 0 36px rgba(245,197,24,0.22); border-color: rgba(245,197,24,0.5); }
  .brand-logo svg { width: 28px; height: 28px; }

  .brand-title {
    font-family: 'JetBrains Mono', monospace;
    font-size: 20px;
    font-weight: 500;
    color: var(--text-primary);
    letter-spacing: -0.5px;
    margin-bottom: 6px;
  }
  .brand-title span { color: var(--accent); }

  .brand-subtitle {
    font-size: 13px;
    color: var(--text-muted);
    font-weight: 500;
  }

  /* â”€â”€ Tabs â”€â”€ */
  .tabs {
    display: flex;
    background: rgba(255,255,255,0.04);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 4px;
    margin-bottom: 28px;
    animation: fadeSlideDown 0.5s ease 0.15s both;
  }
  .tab {
    flex: 1;
    padding: 9px;
    text-align: center;
    font-size: 13px;
    font-weight: 700;
    letter-spacing: 0.4px;
    color: var(--text-muted);
    border-radius: 9px;
    cursor: pointer;
    transition: all 0.25s ease;
    user-select: none;
    text-transform: uppercase;
  }
  .tab.active {
    background: var(--accent);
    color: #0a0a0f;
    box-shadow: 0 2px 12px rgba(245,197,24,0.3);
  }

  /* â”€â”€ Form â”€â”€ */
  .form { display: flex; flex-direction: column; gap: 14px; }

  .field-wrap {
    animation: fadeSlideUp 0.4s ease both;
  }
  .field-wrap:nth-child(1) { animation-delay: 0.2s; }
  .field-wrap:nth-child(2) { animation-delay: 0.25s; }
  .field-wrap:nth-child(3) { animation-delay: 0.3s; }
  .field-wrap:nth-child(4) { animation-delay: 0.35s; }

  .field-label {
    display: block;
    font-size: 11px;
    font-weight: 700;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 0.8px;
    margin-bottom: 7px;
  }

  .field-inner {
    position: relative;
    display: flex;
    align-items: center;
  }
  .field-icon {
    position: absolute;
    left: 14px;
    width: 16px; height: 16px;
    stroke: var(--text-muted);
    fill: none;
    stroke-width: 2;
    pointer-events: none;
    transition: stroke 0.2s;
    flex-shrink: 0;
  }
  .field-input {
    width: 100%;
    background: rgba(255,255,255,0.04);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 13px 14px 13px 42px;
    color: var(--text-primary);
    font-family: 'DM Sans', sans-serif;
    font-size: 14px;
    font-weight: 500;
    outline: none;
    transition: all 0.2s ease;
    caret-color: var(--accent);
  }
  .field-input::placeholder { color: var(--text-muted); font-weight: 400; }
  .field-input:focus {
    border-color: var(--border-focus);
    background: rgba(245,197,24,0.04);
    box-shadow: 0 0 0 3px rgba(245,197,24,0.08);
  }
  .field-input:focus ~ .field-icon,
  .field-inner:focus-within .field-icon {
    stroke: var(--accent);
  }
  .field-input.error { border-color: rgba(255,59,48,0.5); background: rgba(255,59,48,0.04); }
  .field-input.success { border-color: rgba(48,209,88,0.4); }

  .eye-btn {
    position: absolute;
    right: 14px;
    background: none;
    border: none;
    cursor: pointer;
    padding: 4px;
    display: flex; align-items: center; justify-content: center;
    color: var(--text-muted);
    transition: color 0.2s;
  }
  .eye-btn:hover { color: var(--text-secondary); }
  .eye-btn svg { width: 16px; height: 16px; stroke: currentColor; fill: none; stroke-width: 2; }

  .field-error {
    font-size: 11px;
    color: var(--danger);
    font-weight: 600;
    margin-top: 5px;
    display: none;
    padding-left: 2px;
  }
  .field-error.visible { display: block; }

  /* â”€â”€ Forgot â”€â”€ */
  .forgot-row {
    display: flex;
    justify-content: flex-end;
    margin-top: -6px;
    animation: fadeSlideUp 0.4s ease 0.3s both;
  }
  .forgot-link {
    font-size: 12px;
    font-weight: 600;
    color: var(--text-muted);
    cursor: pointer;
    transition: color 0.2s;
    letter-spacing: 0.2px;
  }
  .forgot-link:hover { color: var(--accent); }

  /* â”€â”€ Submit â”€â”€ */
  .submit-btn {
    width: 100%;
    padding: 14px;
    background: var(--accent);
    color: #0a0a0f;
    border: none;
    border-radius: 12px;
    font-family: 'DM Sans', sans-serif;
    font-size: 14px;
    font-weight: 700;
    letter-spacing: 0.4px;
    cursor: pointer;
    transition: all 0.25s ease;
    margin-top: 6px;
    position: relative;
    overflow: hidden;
    animation: fadeSlideUp 0.4s ease 0.35s both;
  }
  .submit-btn::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, rgba(255,255,255,0.15), transparent);
    opacity: 0;
    transition: opacity 0.2s;
  }
  .submit-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 28px rgba(245,197,24,0.35); }
  .submit-btn:hover::before { opacity: 1; }
  .submit-btn:active { transform: translateY(0); }
  .submit-btn.loading { pointer-events: none; }
  .submit-btn .btn-text { transition: opacity 0.2s; }
  .submit-btn .btn-spinner {
    position: absolute;
    inset: 0;
    display: flex; align-items: center; justify-content: center;
    opacity: 0;
    transition: opacity 0.2s;
  }
  .submit-btn.loading .btn-text { opacity: 0; }
  .submit-btn.loading .btn-spinner { opacity: 1; }

  .spinner-ring {
    width: 20px; height: 20px;
    border: 2px solid rgba(10,10,15,0.3);
    border-top-color: #0a0a0f;
    border-radius: 50%;
    animation: spin 0.7s linear infinite;
  }
  @keyframes spin { to { transform: rotate(360deg); } }

  /* â”€â”€ Divider â”€â”€ */
  .divider {
    display: flex;
    align-items: center;
    gap: 12px;
    margin: 4px 0;
    animation: fadeSlideUp 0.4s ease 0.4s both;
  }
  .divider-line { flex: 1; height: 1px; background: var(--border); }
  .divider-text { font-size: 11px; font-weight: 600; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.6px; }

  /* â”€â”€ Social Buttons â”€â”€ */
  .social-btns {
    display: flex;
    gap: 10px;
    animation: fadeSlideUp 0.4s ease 0.45s both;
  }
  .social-btn {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 11px 14px;
    background: rgba(255,255,255,0.04);
    border: 1px solid var(--border);
    border-radius: 12px;
    color: var(--text-secondary);
    font-family: 'DM Sans', sans-serif;
    font-size: 13px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
  }
  .social-btn:hover { background: rgba(255,255,255,0.08); border-color: rgba(255,255,255,0.15); color: var(--text-primary); transform: translateY(-1px); }
  .social-btn svg { width: 17px; height: 17px; flex-shrink: 0; }

  /* â”€â”€ Bottom note â”€â”€ */
  .bottom-note {
    text-align: center;
    font-size: 12px;
    color: var(--text-muted);
    margin-top: 22px;
    animation: fadeSlideUp 0.4s ease 0.5s both;
    line-height: 1.5;
  }
  .bottom-note a {
    color: var(--accent);
    font-weight: 600;
    cursor: pointer;
    text-decoration: none;
  }
  .bottom-note a:hover { text-decoration: underline; }

  /* â”€â”€ Success State â”€â”€ */
  .success-screen {
    display: none;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: 12px 0 8px;
    animation: fadeSlideUp 0.5s ease both;
  }
  .success-ring {
    width: 64px; height: 64px;
    border-radius: 50%;
    background: rgba(48,209,88,0.12);
    border: 1.5px solid rgba(48,209,88,0.3);
    display: flex; align-items: center; justify-content: center;
    font-size: 28px;
    margin-bottom: 16px;
    box-shadow: 0 0 24px rgba(48,209,88,0.12);
  }
  .success-title { font-size: 18px; font-weight: 700; margin-bottom: 8px; }
  .success-sub { font-size: 13px; color: var(--text-muted); margin-bottom: 20px; }
  .success-btn {
    padding: 10px 24px;
    background: var(--accent);
    color: #0a0a0f;
    border: none;
    border-radius: 20px;
    font-family: 'DM Sans', sans-serif;
    font-size: 13px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.2s;
  }
  .success-btn:hover { transform: translateY(-2px); box-shadow: 0 6px 20px var(--accent-glow); }

  /* â”€â”€ Password strength â”€â”€ */
  .strength-bar-wrap {
    display: none;
    margin-top: 8px;
    gap: 4px;
    flex-direction: column;
  }
  .strength-bar-wrap.visible { display: flex; }
  .strength-bars { display: flex; gap: 4px; }
  .strength-seg {
    flex: 1; height: 3px;
    border-radius: 2px;
    background: rgba(255,255,255,0.08);
    transition: background 0.3s ease;
  }
  .strength-seg.weak { background: var(--danger); }
  .strength-seg.fair { background: #ff9500; }
  .strength-seg.good { background: #fdb913; }
  .strength-seg.strong { background: var(--success); }
  .strength-label { font-size: 10px; font-weight: 600; color: var(--text-muted); letter-spacing: 0.4px; text-transform: uppercase; }

  /* â”€â”€ Animations â”€â”€ */
  @keyframes fadeSlideDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
  @keyframes fadeSlideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

  @media (max-width: 440px) {
    .card { padding: 28px 20px 24px; border-radius: 20px; }
  }
</style>
</head>
<body>

<div class="bg-grid"></div>
<div class="bg-glow-1"></div>
<div class="bg-glow-2"></div>
<div class="metro-dots">
  <div class="metro-dot-segment"></div>
  <div class="metro-dot-segment"></div>
  <div class="metro-dot-segment"></div>
  <div class="metro-dot-segment"></div>
  <div class="metro-dot-segment"></div>
  <div class="metro-dot-segment"></div>
  <div class="metro-dot-segment"></div>
  <div class="metro-dot-segment"></div>
  <div class="metro-dot-segment"></div>
</div>

<div class="card">
  <!-- Brand -->
  <div class="brand">
    <div class="brand-logo">
      <!-- Metro M icon -->
      <svg viewBox="0 0 40 40" fill="none">
        <circle cx="20" cy="20" r="19" stroke="#f5c518" stroke-width="1.5" stroke-opacity="0.4"/>
        <path d="M9 28V14l7.5 9L24 14v14M24 14l7 14" stroke="#f5c518" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"/>
        <circle cx="20" cy="20" r="2.5" fill="#f5c518" opacity="0.6"/>
      </svg>
    </div>
    <div class="brand-title">rate<span>metro</span>.com</div>
    <div class="brand-subtitle">LA Metro Station Ratings</div>
  </div>

  <!-- Tabs -->
  <div class="tabs" id="tabsEl">
    <div class="tab active" onclick="switchTab('signin')">Sign In</div>
    <div class="tab" onclick="switchTab('signup')">Sign Up</div>
  </div>

  <!-- Sign In Form -->
  <div id="signinForm">
    <div class="form">
      <div class="field-wrap">
        <label class="field-label">Email</label>
        <div class="field-inner">
          <svg class="field-icon" viewBox="0 0 24 24"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
          <input class="field-input" id="signinEmail" type="email" placeholder="you@email.com" autocomplete="email" />
        </div>
        <div class="field-error" id="signinEmailErr">Please enter a valid email</div>
      </div>

      <div class="field-wrap">
        <label class="field-label">Password</label>
        <div class="field-inner">
          <svg class="field-icon" viewBox="0 0 24 24"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
          <input class="field-input" id="signinPassword" type="password" placeholder="Your password" autocomplete="current-password" />
          <button class="eye-btn" onclick="togglePass('signinPassword', this)" tabindex="-1">
            <svg viewBox="0 0 24 24" id="eyeIconSignin"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
          </button>
        </div>
        <div class="field-error" id="signinPassErr">Password is required</div>
      </div>

      <div class="forgot-row">
        <span class="forgot-link" onclick="showForgot()">Forgot password?</span>
      </div>

      <button class="submit-btn" id="signinBtn" onclick="handleSignIn()">
        <span class="btn-text">Sign In</span>
        <span class="btn-spinner"><div class="spinner-ring"></div></span>
      </button>

      <div class="divider">
        <div class="divider-line"></div>
        <div class="divider-text">or</div>
        <div class="divider-line"></div>
      </div>

      <div class="social-btns">
        <button class="social-btn" onclick="socialAuth('Google')">
          <svg viewBox="0 0 24 24"><path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"/><path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/><path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"/><path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/></svg>
          Google
        </button>
      </div>
    </div>
  </div>

  <!-- Sign Up Form -->
  <div id="signupForm" style="display:none">
    <div class="form">
      <div class="field-wrap">
        <label class="field-label">Full Name</label>
        <div class="field-inner">
          <svg class="field-icon" viewBox="0 0 24 24"><circle cx="12" cy="8" r="4"/><path d="M4 21v-1a6 6 0 0 1 12 0v1"/></svg>
          <input class="field-input" id="signupName" type="text" placeholder="Your full name" autocomplete="name" />
        </div>
        <div class="field-error" id="signupNameErr">Name is required</div>
      </div>

      <div class="field-wrap">
        <label class="field-label">Email</label>
        <div class="field-inner">
          <svg class="field-icon" viewBox="0 0 24 24"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
          <input class="field-input" id="signupEmail" type="email" placeholder="you@email.com" autocomplete="email" />
        </div>
        <div class="field-error" id="signupEmailErr">Please enter a valid email</div>
      </div>

      <div class="field-wrap">
        <label class="field-label">Password</label>
        <div class="field-inner">
          <svg class="field-icon" viewBox="0 0 24 24"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
          <input class="field-input" id="signupPassword" type="password" placeholder="Create a password" autocomplete="new-password" oninput="checkStrength(this.value)" />
          <button class="eye-btn" onclick="togglePass('signupPassword', this)" tabindex="-1">
            <svg viewBox="0 0 24 24"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
          </button>
        </div>
        <div class="field-error" id="signupPassErr">Min 8 characters required</div>
        <div class="strength-bar-wrap" id="strengthWrap">
          <div class="strength-bars">
            <div class="strength-seg" id="s1"></div>
            <div class="strength-seg" id="s2"></div>
            <div class="strength-seg" id="s3"></div>
            <div class="strength-seg" id="s4"></div>
          </div>
          <div class="strength-label" id="strengthLabel">Strength</div>
        </div>
      </div>

      <button class="submit-btn" id="signupBtn" onclick="handleSignUp()">
        <span class="btn-text">Create Account</span>
        <span class="btn-spinner"><div class="spinner-ring"></div></span>
      </button>

      <div class="divider">
        <div class="divider-line"></div>
        <div class="divider-text">or</div>
        <div class="divider-line"></div>
      </div>

      <div class="social-btns">
        <button class="social-btn" onclick="socialAuth('Google')">
          <svg viewBox="0 0 24 24"><path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"/><path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/><path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"/><path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/></svg>
          Google
        </button>
      </div>
    </div>
  </div>

  <!-- Success Screen -->
  <div class="success-screen" id="successScreen">
    <div class="success-ring">âœ“</div>
    <div class="success-title" id="successTitle">Welcome back!</div>
    <div class="success-sub" id="successSub">Taking you to the map...</div>
    <button class="success-btn" onclick="goToMap()">Open Map â†’</button>
  </div>

  <!-- Bottom note -->
  <div class="bottom-note" id="bottomNote">
    Don't have an account? <a onclick="switchTab('signup')">Sign up free</a>
    <br><span style="font-size:10px;display:block;margin-top:6px;color:rgba(255,255,255,0.2)">By continuing you agree to our Terms & Privacy Policy</span>
  </div>
</div>

<script>
let activeTab = 'signin';

function switchTab(tab) {
  activeTab = tab;
  const tabs = document.querySelectorAll('.tab');
  tabs[0].classList.toggle('active', tab === 'signin');
  tabs[1].classList.toggle('active', tab === 'signup');
  document.getElementById('signinForm').style.display = tab === 'signin' ? 'block' : 'none';
  document.getElementById('signupForm').style.display = tab === 'signup' ? 'block' : 'none';
  document.getElementById('successScreen').style.display = 'none';
  const note = document.getElementById('bottomNote');
  if (tab === 'signin') {
    note.innerHTML = `Don't have an account? <a onclick="switchTab('signup')">Sign up free</a><br><span style="font-size:10px;display:block;margin-top:6px;color:rgba(255,255,255,0.2)">By continuing you agree to our Terms & Privacy Policy</span>`;
  } else {
    note.innerHTML = `Already have an account? <a onclick="switchTab('signin')">Sign in</a><br><span style="font-size:10px;display:block;margin-top:6px;color:rgba(255,255,255,0.2)">By continuing you agree to our Terms & Privacy Policy</span>`;
  }
  clearErrors();
}

function clearErrors() {
  document.querySelectorAll('.field-error').forEach(e => e.classList.remove('visible'));
  document.querySelectorAll('.field-input').forEach(e => { e.classList.remove('error','success'); });
}

function showError(inputId, errId) {
  const inp = document.getElementById(inputId);
  const err = document.getElementById(errId);
  if (inp) inp.classList.add('error');
  if (err) err.classList.add('visible');
}

function togglePass(inputId, btn) {
  const inp = document.getElementById(inputId);
  const showing = inp.type === 'text';
  inp.type = showing ? 'password' : 'text';
  btn.querySelector('svg').innerHTML = showing
    ? `<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/>`
    : `<path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"/><line x1="1" y1="1" x2="23" y2="23"/>`;
}

function checkStrength(val) {
  const wrap = document.getElementById('strengthWrap');
  const label = document.getElementById('strengthLabel');
  const segs = [document.getElementById('s1'),document.getElementById('s2'),document.getElementById('s3'),document.getElementById('s4')];
  if (!val) { wrap.classList.remove('visible'); return; }
  wrap.classList.add('visible');
  let score = 0;
  if (val.length >= 8) score++;
  if (/[A-Z]/.test(val)) score++;
  if (/[0-9]/.test(val)) score++;
  if (/[^A-Za-z0-9]/.test(val)) score++;
  const levels = ['weak','fair','good','strong'];
  const labels = ['Weak','Fair','Good','Strong'];
  const cls = levels[score - 1] || 'weak';
  segs.forEach((s, i) => {
    s.className = 'strength-seg';
    if (i < score) s.classList.add(cls);
  });
  label.textContent = score > 0 ? labels[score - 1] : 'Strength';
}

function simulateLoad(btnId, cb) {
  const btn = document.getElementById(btnId);
  btn.classList.add('loading');
  setTimeout(() => { btn.classList.remove('loading'); cb(); }, 1400);
}

function handleSignIn() {
  clearErrors();
  const email = document.getElementById('signinEmail').value.trim();
  const pass = document.getElementById('signinPassword').value;
  let valid = true;
  if (!email || !email.includes('@')) { showError('signinEmail','signinEmailErr'); valid = false; }
  if (!pass) { showError('signinPassword','signinPassErr'); valid = false; }
  if (!valid) return;
  simulateLoad('signinBtn', () => showSuccess('Welcome back! ðŸ‘‹', 'Redirecting to the map...'));
}

function handleSignUp() {
  clearErrors();
  const name = document.getElementById('signupName').value.trim();
  const email = document.getElementById('signupEmail').value.trim();
  const pass = document.getElementById('signupPassword').value;
  let valid = true;
  if (!name) { showError('signupName','signupNameErr'); valid = false; }
  if (!email || !email.includes('@')) { showError('signupEmail','signupEmailErr'); valid = false; }
  if (pass.length < 8) { showError('signupPassword','signupPassErr'); valid = false; }
  if (!valid) return;
  simulateLoad('signupBtn', () => showSuccess('Account created! ðŸŽ‰', 'You\'re all set. Opening the map...'));
}

function showSuccess(title, sub) {
  document.getElementById('signinForm').style.display = 'none';
  document.getElementById('signupForm').style.display = 'none';
  document.getElementById('bottomNote').style.display = 'none';
  document.getElementById('tabsEl').style.display = 'none';
  const screen = document.getElementById('successScreen');
  screen.style.display = 'flex';
  document.getElementById('successTitle').textContent = title;
  document.getElementById('successSub').textContent = sub;
}

function goToMap() {
  alert('Navigating to map... (link to index.html)');
}

function showForgot() {
  alert('Password reset coming soon. Check your email for a reset link.');
}

function socialAuth(provider) {
  alert(`${provider} sign-in coming soon.`);
}

// Enter key support
document.addEventListener('keydown', e => {
  if (e.key === 'Enter') {
    if (activeTab === 'signin') handleSignIn();
    else handleSignUp();
  }
});
</script>
</body>
</html>